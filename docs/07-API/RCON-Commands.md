# RustGuard RCON Commands

## Overview

The **RCON Interface** in RustGuard is the component that translates a sanction action decided by the Action Handler (such as KICK or BAN) into executable commands sent directly to the Minecraft server via the RCON protocol.

This documentation details the command templates that RustGuard executes.

## Template Configuration

RCON commands are not hardcoded; instead, they use configurable templates. This allows administrators to adapt commands to different permission or ban management plugins (like LuckPerms, EssentialsX, BanManager, etc.).

All templates are defined in the main configuration file (`Configuration.md`).

### Template Variables

RustGuard supports the following variables, which are dynamically replaced at runtime:

|Variable|Description|Example Value|
|---|---|---|
|`{player_name}`|The username of the affected player.|`Cheater_42`|
|`{uuid}`|The Mojang UUID of the player.|`0123...456`|
|`{reason}`|The full reason for the violation, generated by the Action Handler.|`fly_hack (Confidence: 0.96)`|
|`{cheat_type}`|The main type of cheat detected.|`fly_hack`|
|`{confidence}`|The numeric confidence score (0.0 to 1.0).|`0.96`|
|`{duration}`|Ban duration (only for BAN commands).|`1d` (1 day)|

## Default Action Commands

These are the default templates RustGuard uses for each sanction action.

### 1. KICK Command

Used for medium or low confidence violations.

|Default Template|Description|
|---|---|
|`kick {player_name} [RustGuard] Suspected violation: {reason}`|Uses the native Minecraft command.|

**Example Sent Command:**

```
kick Cheater_42 [RustGuard] Suspected violation: fly_hack (Confidence: 0.96)
```

### 2. BAN Command

Used for high-confidence violations or repeat offenders. The default duration is configurable, but `{duration}` is used to insert it.

|Default Template|Description|
|---|---|
|`ban {player_name} {duration} [RustGuard] Confirmed cheating: {reason}`|Assumes the ban plugin supports duration format.|

**Example Sent Command (7-day ban):**

```
ban Cheater_42 7d [RustGuard] Confirmed cheating: killaura (Confidence: 1.0)
```

### 3. WARN Command

Used to notify the player of a low-confidence violation without sanction.

|Default Template|Description|
|---|---|
|`tellraw {player_name} ["",{"text":"[RustGuard] Warning: Do not use illegal modifications.","color":"red"}]`|Uses the native `tellraw` command to send a formatted JSON message.|

**Example Sent Command:**

```json
tellraw PlayerName ["",{"text":"[RustGuard] Warning: Do not use illegal modifications.","color":"red"}]
```

## Related Documents

- [[Integration/RCON-Interface]]
- [[Action-Handler]]
- [[Configuration]] 